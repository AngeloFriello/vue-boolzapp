<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://kit.fontawesome.com/bce4c6f505.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="app">
        <header>

        </header>
        <main>
            <div class="container">
                <div class="utent">

                    <!-- SEZIONE UTENTE -->

                    <div class="utent-me flex a-c j-b">
                        <img src="./img/avatar_io.jpg" alt="" class="card__img">
                        <div class="card-text">
                            <p class="name-utent">Antonio</p>
                        </div>
                        <i class="fa-solid fa-ellipsis-vertical"></i>
                    </div>

                    <!-- AVVISO TI NOTIFICA -->

                    <div class="utent-notifica flex a-c j-c">
                        <div class="box-bell">
                            <i class="fa-solid fa-bell-slash"></i>
                        </div>
                        <div>
                            <p class="notifiche-top-text">Ricevi notifiche di nuovi messaggi</p>
                            <p class="notifiche-bottom-text">attiva notifiche desktop</p>
                        </div>

                    </div>

                    <!-- BARRA DI RICERCA CONTATTI -->

                    <div class="utent__search-bar flex">
                        <button class="btn-search"><i class="fa-solid fa-magnifying-glass"></i></button>
                        <input type="search" class=" input-search" placeholder="cerca qui i tuoi contatti">
                    </div>

                    <!-- LISTA CONTATTI IN RUBRICA -->

                    <div class="utent-list">
                        <div class="cards">
                            <div class="card flex" :class="currentIndex === index ? 'bg-gray' : '' "  v-for="(contact, index) in contacts" @click="toggleImage(index)" >
                                <img :src="contacts[index].avatar" alt="" class="card__img">
                                <div class="card-text">
                                    <p class="name-utent">{{contacts[index].name}}</p>
                                    <p class="last-mex">{{contacts[index].messages[0].message}}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INZIO SEZIONE CHAT -->

                <div class="chat">
                    <div class="chat-name flex a-c">
                        <img src="./img/avatar_1.jpg" alt="" class="card__img">
                        <p class="name-utent">Gennaro</p>
                    </div>
                    <div class="chat-body">
                        <div class="chat-body_container flex" >
                            <div class="chat-row flex">
                                <p :class=" messageElement.status === 'sent' ? 'messages-sent' : 'messages-received' " v-for="(messageElement, index) in contacts[currentIndex].messages">{{messageElement.message}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="chat-message flex a-c j-c">
                        <input type="text" class="writh-mex" placeholder=" scrivi messaggio">
                    </div>
                </div>
            </div>
        </main>

    </div>
    <script src="https://unpkg.com/vue@3"></script>
    <script src="./js/app.js"></script>
</body>

</html>